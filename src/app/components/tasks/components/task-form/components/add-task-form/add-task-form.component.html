<form
  [ngClass]="{
    'cursor-not-allowed animate-pulse': isFormDisabled(),
  }"
  autocomplete="off"
  class="w-full flex gap-2 select-none"
  [formGroup]="taskForm">
  <mat-form-field class="w-full">
    <mat-label data-testid="title">Tarefa</mat-label>

    <input
      matInput
      formControlName="title"
      (keyup.enter)="handleSubmit()"
      placeholder="Adicionar tarefa" />

    <mat-hint class="text-tertiary">Aperte enter para adicionar</mat-hint>
  </mat-form-field>

  <mat-form-field>
    <mat-label data-testid="categoryId">Categoria</mat-label>

    <mat-select
      formControlName="categoryId"
      (keyup.enter)="handleSubmit()"
      (selectionChange)="handleSelectCategory($event)">
      @for (category of categories(); track category.id) {
        <mat-option value="{{ category.id }}">{{ category.name }}</mat-option>
      }
    </mat-select>
  </mat-form-field>
</form>
